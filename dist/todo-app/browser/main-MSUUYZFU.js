import{i as $t,j as K,k as le,m as Bt,n as fe,p as zt,u as Ut}from"./chunk-PUYCZATA.js";import{a as on,b as hn,c as gn,d as En,e as vn,g as Sn,h as Mn,i as Tn,j as kn,k as ge,l as ye,m as Dn,n as Ee,o as ve}from"./chunk-EIYGABQK.js";import"./chunk-W4BNGQYG.js";import{$a as Rn,Aa as un,Ba as ln,Ea as fn,Ga as pn,Ha as mn,Ka as Pe,La as yn,Ma as In,Na as An,Pa as Le,Qa as pe,Ra as bn,Sa as Cn,Ta as xn,Ua as On,Va as wn,Wa as $e,Xa as me,Ya as _n,Za as he,_ as Vt,a as de,ab as Y,bb as Fn,c as wt,da as Ht,ea as Gt,fa as qt,g as _t,ga as Wt,h as ue,ha as Zt,i as Rt,ia as Kt,ja as Xt,k as Ft,ka as Yt,l as kt,la as Jt,ma as Qt,n as Dt,na as en,o as Nt,oa as tn,pa as nn,q as jt,r as Pt,sa as rn,t as Lt,ta as sn,ua as X,wa as an,xa as cn,ya as dn,za as je}from"./chunk-PCAIFCT5.js";import{$b as Ne,A as j,Ab as ke,B as k,Ba as Tt,D as L,E as _e,Ea as U,F as ut,Fa as ne,Gb as bt,H as ee,Hb as se,I as lt,J as ft,Ja as q,L as pt,Mb as De,O as Re,Pa as W,Qb as C,R as mt,Rb as x,Sb as ae,Ta as re,U as ht,V as gt,X as yt,Z as Fe,_ as te,_b as Z,a as M,b as w,ba as Et,ca as vt,ea as A,f as G,ha as I,hb as D,i as it,ja as m,jc as N,k as ot,ka as b,kc as ce,l as st,lb as ie,m as at,ma as z,n as ct,na as St,ob as At,oc as Ct,p as $,t as dt,u as T,ub as oe,vc as xt,w as B,wa as It,xc as Ot,ya as Mt}from"./chunk-OAKRCEHF.js";var Er="@",vr=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=b(Mt);loadingSchedulerFn=b(Sr,{optional:!0});_engine;constructor(t,r,i,o,d){this.doc=t,this.delegate=r,this.zone=i,this.animationType=o,this.moduleImpl=d}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-7IBLVD7X.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new vt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let d=new o(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new Be(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let c=d.createRenderer(t,r);o.use(c),this.scheduler??=this.injector.get(Tt,null,{optional:!0}),this.scheduler?.notify(10)}).catch(d=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(r){At()};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Be=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let t of this.replay)t(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,t){this.delegate.appendChild(n,t)}insertBefore(n,t,r,i){this.delegate.insertBefore(n,t,r,i)}removeChild(n,t,r){this.delegate.removeChild(n,t,r)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(n,t,r)),this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(n,t,r,i)),this.delegate.listen(n,t,r,i)}shouldReplay(n){return this.replay!==null&&n.startsWith(Er)}},Sr=new I("");function Nn(e="animations"){return re("NgAsyncAnimations"),z([{provide:ie,useFactory:(n,t,r)=>new vr(n,t,r,e),deps:[de,ue,U]},{provide:W,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ir=(()=>{class e extends fe{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||e)(m(de),m(K),m(le))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function Mr(){return new Bt}function Tr(e,n,t){return new Ut(e,n,t)}var Ln=[{provide:le,useFactory:Mr},{provide:fe,useClass:Ir},{provide:ie,useFactory:Tr,deps:[ue,fe,U]}],wi=[{provide:K,useClass:$t},{provide:W,useValue:"NoopAnimations"},...Ln],Ar=[{provide:K,useFactory:()=>new zt},{provide:W,useFactory:()=>"BrowserAnimations"},...Ln];function $n(){return re("NgEagerAnimations"),[...Ar]}var Cr=e=>({"margin-error":e});function xr(e,n){if(e&1&&(C(0,"mat-error"),N(1),x()),e&2){let t=Ne();D(),ce(t.errorMessage())}}function Or(e,n){if(e&1&&(C(0,"mat-error"),N(1),x()),e&2){let t=Ne();D(),ce(t.errorMessagePassword())}}var Se=class e{emailUser="user@gmail.com";passwordUser="usuario123";email=new je("",[X.required,X.email]);password=new je("",[X.required,X.minLength(6)]);errorMessage=q("");errorMessagePassword=q("");hide=q(!0);submitted=q(!1);router=b(Pt);constructor(){j(this.email.statusChanges,this.email.valueChanges).pipe(Pe()).subscribe(()=>this.updateErrorMessage()),j(this.password.statusChanges,this.password.valueChanges).pipe(Pe()).subscribe(()=>this.updateErrorMessagePassword())}clickEvent(n){this.hide.set(!this.hide()),n.stopPropagation()}updateErrorMessage(){this.email.hasError("required")?this.errorMessage.set("El email es requerido"):this.email.hasError("email")?this.errorMessage.set("Email no v\xE1lido"):this.submitted()&&this.email.value!==this.emailUser?this.errorMessage.set("El email es incorrecto"):this.errorMessage.set("")}updateErrorMessagePassword(){this.password.hasError("required")?this.errorMessagePassword.set("La contrase\xF1a es requerida"):this.password.hasError("minlength")?this.errorMessagePassword.set("La contrase\xF1a debe tener al menos 6 caracteres"):this.submitted()&&this.password.value!==this.passwordUser?this.errorMessagePassword.set("La contrase\xF1a es incorrecta"):this.errorMessagePassword.set("")}ingresar(){this.submitted.set(!0),this.email.setErrors(null),this.password.setErrors(null),this.email.value!==this.emailUser&&this.email.setErrors({incorrect:!0}),this.password.value!==this.passwordUser&&this.password.setErrors({incorrect:!0}),this.updateErrorMessage(),this.updateErrorMessagePassword(),this.email.valid&&this.password.valid&&this.email.value===this.emailUser&&this.password.value===this.passwordUser&&this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=oe({type:e,selectors:[["app-login"]],decls:28,vars:11,consts:[[1,"container","login"],[1,"card"],[1,"header"],[2,"color","black"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu",1,"image-login"],[1,"form-login"],["matInput","","placeholder","Example123@gmail.com","required","",3,"blur","formControl"],["matInput","","required","",3,"blur","type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],[1,"forgot-password",2,"color","black",3,"ngClass"],["mat-flat-button","","type","submit",1,"button-enter",3,"click"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title",3),N(4,"TODO APP"),x(),C(5,"mat-card-subtitle"),N(6,"App for Tasks"),x()(),ae(7,"img",4),C(8,"mat-card-content")(9,"form",5)(10,"mat-form-field")(11,"mat-label"),N(12,"Ingrese un email"),x(),C(13,"input",6),Z("blur",function(){return r.updateErrorMessage()}),x(),ke(14,xr,2,1,"mat-error"),x(),C(15,"mat-form-field")(16,"mat-label"),N(17,"Ingrese su contrase\xF1a"),x(),C(18,"input",7),Z("blur",function(){return r.updateErrorMessagePassword()}),x(),ke(19,Or,2,1,"mat-error"),C(20,"button",8),Z("click",function(o){return r.clickEvent(o)}),C(21,"mat-icon"),N(22),x()()(),C(23,"p",9),N(24,"\xBFOlvidaste tu contrase\xF1a?"),x()()(),C(25,"mat-card-actions")(26,"button",10),Z("click",function(){return r.ingresar()}),N(27,"Ingresar"),x()()()()),t&2&&(D(13),se("formControl",r.email),D(),De(r.errorMessage()?14:-1),D(4),se("type",r.hide()?"password":"text")("formControl",r.password),D(),De(r.errorMessagePassword()?19:-1),D(),bt("aria-label","Hide password")("aria-pressed",r.hide()),D(2),ce(r.hide()?"visibility_off":"visibility"),D(),se("ngClass",Ct(9,Cr,r.password.invalid&&r.password.touched)))},dependencies:[Gt,Ht,Vt,Qt,qt,Xt,Zt,Yt,Jt,Kt,Wt,on,rn,en,tn,nn,gn,hn,pn,un,sn,an,cn,fn,dn,mn,ln,vn,En,_t,wt],styles:[".login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.image-login[_ngcontent-%COMP%]{width:100%;height:auto;max-width:300px;margin-bottom:20px}.card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:400px;padding:20px}.forgot-password[_ngcontent-%COMP%]{text-align:end;transition:margin .2s ease}.margin-error[_ngcontent-%COMP%]{margin-top:20px}.button-enter[_ngcontent-%COMP%]{width:230px;margin-bottom:10px}"]})};var Bn=[{path:"login",component:Se},{path:"home",loadComponent:()=>import("./chunk-4K5YQUYP.js").then(e=>e.HomeComponent)},{path:"task-detail/:id",loadComponent:()=>import("./chunk-ZBAUSC7L.js").then(e=>e.TaskDetailComponent)},{path:"",redirectTo:"/login",pathMatch:"full"}];var _r={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ie="__@ngrx/effects_create__";function ze(e,n={}){let t=n.functional?e:e(),r=M(M({},_r),n);return Object.defineProperty(t,Ie,{value:r}),t}function Rr(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(Ie)?e[r][Ie].hasOwnProperty("dispatch"):!1).map(r=>{let i=e[r][Ie];return M({propertyName:r},i)})}function Fr(e){return Rr(e)}function zn(e){return Object.getPrototypeOf(e)}function kr(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Un(e){return typeof e=="function"}function Dr(e){return e.filter(Un)}function Nr(e,n,t){let r=zn(e),o=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,d=Fr(e).map(({propertyName:c,dispatch:p,useEffectsErrorHandler:s})=>{let E=typeof e[c]=="function"?e[c]():e[c],a=s?t(E,n):E;return p===!1?a.pipe(lt()):a.pipe(mt()).pipe(T(v=>({effect:e[c],notification:v,propertyName:c,sourceName:o,sourceInstance:e})))});return j(...d)}var jr=10;function Vn(e,n,t=jr){return e.pipe(L(r=>(n&&n.handleError(r),t<=1?e:Vn(e,n,t-1))))}var Hn=(()=>{class e extends G{constructor(t){super(),t&&(this.source=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}static{this.\u0275fac=function(r){return new(r||e)(m(me))}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ue(...e){return k(n=>e.some(t=>typeof t=="string"?t===n.type:t.type===n.type))}var fo=new I("@ngrx/effects Internal Root Guard"),po=new I("@ngrx/effects User Provided Effects"),mo=new I("@ngrx/effects Internal Root Effects"),ho=new I("@ngrx/effects Internal Root Effects Instances"),go=new I("@ngrx/effects Internal Feature Effects"),yo=new I("@ngrx/effects Internal Feature Effects Instance Groups"),Pr=new I("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Vn}),Lr="@ngrx/effects/init",$r=An(Lr);function Br(e,n){if(e.notification.kind==="N"){let t=e.notification.value;!zr(t)&&n.handleError(new Error(`Effect ${Ur(e)} dispatched an invalid action: ${Vr(t)}`))}}function zr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Ur({propertyName:e,sourceInstance:n,sourceName:t}){let r=typeof n[e]=="function";return!!t?`"${t}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function Vr(e){try{return JSON.stringify(e)}catch{return e}}var Hr="ngrxOnIdentifyEffects";function Gr(e){return Ve(e,Hr)}var qr="ngrxOnRunEffects";function Wr(e){return Ve(e,qr)}var Zr="ngrxOnInitEffects";function Kr(e){return Ve(e,Zr)}function Ve(e,n){return e&&n in e&&typeof e[n]=="function"}var Gn=(()=>{class e extends it{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(Re(t=>kr(t)?zn(t):t),B(t=>t.pipe(Re(Xr))),B(t=>{let r=t.pipe(pt(o=>Yr(this.errorHandler,this.effectsErrorHandler)(o)),T(o=>(Br(o,this.errorHandler),o.notification)),k(o=>o.kind==="N"&&o.value!=null),ft()),i=t.pipe(ee(1),k(Kr),T(o=>o.ngrxOnInitEffects()));return j(r,i)}))}static{this.\u0275fac=function(r){return new(r||e)(m(ne),m(Pr))}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xr(e){return Gr(e)?e.ngrxOnIdentifyEffects():""}function Yr(e,n){return t=>{let r=Nr(t,e,n);return Wr(t)?t.ngrxOnRunEffects(r):r}}var Jr=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||e)(m(Gn),m(he))}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qn(...e){let n=e.flat(),t=Dr(n);return z([t,St(()=>{b(Cn),b(xn,{optional:!0});let r=b(Jr),i=b(Gn),o=!r.isStarted;o&&r.start();for(let d of n){let c=Un(d)?b(d):d;i.addEffects(c)}o&&b(he).dispatch($r())})])}var Q="PERFORM_ACTION",ei="REFRESH",Jn="RESET",Qn="ROLLBACK",er="COMMIT",tr="SWEEP",nr="TOGGLE_ACTION",ti="SET_ACTIONS_ACTIVE",rr="JUMP_TO_STATE",ir="JUMP_TO_ACTION",nt="IMPORT_STATE",or="LOCK_CHANGES",sr="PAUSE_RECORDING",H=class{constructor(n,t){if(this.action=n,this.timestamp=t,this.type=Q,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},He=class{constructor(){this.type=ei}},Ge=class{constructor(n){this.timestamp=n,this.type=Jn}},qe=class{constructor(n){this.timestamp=n,this.type=Qn}},We=class{constructor(n){this.timestamp=n,this.type=er}},Ze=class{constructor(){this.type=tr}},Ke=class{constructor(n){this.id=n,this.type=nr}};var Xe=class{constructor(n){this.index=n,this.type=rr}},Ye=class{constructor(n){this.actionId=n,this.type=ir}},Je=class{constructor(n){this.nextLiftedState=n,this.type=nt}},Qe=class{constructor(n){this.status=n,this.type=or}},et=class{constructor(n){this.status=n,this.type=sr}};var be=new I("@ngrx/store-devtools Options"),Wn=new I("@ngrx/store-devtools Initial Config");function ar(){return null}var ni="NgRx Store DevTools";function ri(e){let n={maxAge:!1,monitor:ar,actionSanitizer:void 0,stateSanitizer:void 0,name:ni,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof e=="function"?e():e,r=t.logOnly?{pause:!0,export:!0,test:!0}:!1,i=t.features||r||n.features;i.import===!0&&(i.import="custom");let o=Object.assign({},n,{features:i},t);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Zn(e,n){return e.filter(t=>n.indexOf(t)<0)}function cr(e){let{computedStates:n,currentStateIndex:t}=e;if(t>=n.length){let{state:i}=n[n.length-1];return i}let{state:r}=n[t];return r}function J(e){return new H(e,+Date.now())}function ii(e,n){return Object.keys(n).reduce((t,r)=>{let i=Number(r);return t[i]=dr(e,n[i],i),t},{})}function dr(e,n,t){return w(M({},n),{action:e(n.action,t)})}function oi(e,n){return n.map((t,r)=>({state:ur(e,t.state,r),error:t.error}))}function ur(e,n,t){return e(n,t)}function lr(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function si(e,n,t,r){let i=[],o={},d=[];return e.stagedActionIds.forEach((c,p)=>{let s=e.actionsById[c];s&&(p&&rt(e.computedStates[p],s,n,t,r)||(o[c]=s,i.push(c),d.push(e.computedStates[p])))}),w(M({},e),{stagedActionIds:i,actionsById:o,computedStates:d})}function rt(e,n,t,r,i){let o=t&&!t(e,n.action),d=r&&!n.action.type.match(r.map(p=>Kn(p)).join("|")),c=i&&n.action.type.match(i.map(p=>Kn(p)).join("|"));return o||d||c}function Kn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fr(e){return{ngZone:e?b(U):null,connectInZone:e}}var Ce=(()=>{class e extends pe{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=It(e)))(i||e)}})()}static{this.\u0275prov=A({token:e,factory:e.\u0275fac})}}return e})(),Me={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},tt=new I("@ngrx/store-devtools Redux Devtools Extension"),pr=(()=>{class e{constructor(t,r,i){this.config=r,this.dispatcher=i,this.zoneConfig=fr(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,r){if(this.devtoolsExtension)if(t.type===Q){if(r.isLocked||r.isPaused)return;let i=cr(r);if(lr(this.config)&&rt(i,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?ur(this.config.stateSanitizer,i,r.currentStateIndex):i,d=this.config.actionSanitizer?dr(this.config.actionSanitizer,t,r.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(d,o))}else{let i=w(M({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?ii(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?oi(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new G(t=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(i=>t.next(i)),r.unsubscribe}):at}createActionStreams(){let t=this.createChangesObservable().pipe(gt()),r=t.pipe(k(s=>s.type===Me.START)),i=t.pipe(k(s=>s.type===Me.STOP)),o=t.pipe(k(s=>s.type===Me.DISPATCH),T(s=>this.unwrapAction(s.payload)),_e(s=>s.type===nt?this.dispatcher.pipe(k(E=>E.type===$e),dt(1e3),ut(1e3),T(()=>s),L(()=>$(s)),ee(1)):$(s))),c=t.pipe(k(s=>s.type===Me.ACTION),T(s=>this.unwrapAction(s.payload))).pipe(te(i)),p=o.pipe(te(i));this.start$=r.pipe(te(i)),this.actions$=this.start$.pipe(Fe(()=>c)),this.liftedActions$=this.start$.pipe(Fe(()=>p))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let r={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(r.maxAge=t.maxAge),r}sendToReduxDevtools(t){try{t()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}static{this.\u0275fac=function(r){return new(r||e)(m(tt),m(be),m(Ce))}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac})}}return e})(),Ae={type:Le},ai="@ngrx/store-devtools/recompute",ci={type:ai};function mr(e,n,t,r,i){if(r)return{state:t,error:"Interrupted by an error up the chain"};let o=t,d;try{o=e(t,n)}catch(c){d=c.toString(),i.handleError(c)}return{state:o,error:d}}function Te(e,n,t,r,i,o,d,c,p){if(n>=e.length&&e.length===o.length)return e;let s=e.slice(0,n),E=o.length-(p?1:0);for(let a=n;a<E;a++){let f=o[a],v=i[f].action,l=s[a-1],u=l?l.state:r,_=l?l.error:void 0,R=d.indexOf(f)>-1?l:mr(t,v,u,_,c);s.push(R)}return p&&s.push(e[e.length-1]),s}function di(e,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:J(Ae)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function ui(e,n,t,r,i={}){return o=>(d,c)=>{let{monitorState:p,actionsById:s,nextActionId:E,stagedActionIds:a,skippedActionIds:f,committedState:v,currentStateIndex:l,computedStates:u,isLocked:_,isPaused:S}=d||n;d||(s=Object.create(s));function R(y){let g=y,P=a.slice(1,g+1);for(let O=0;O<P.length;O++)if(u[O+1].error){g=O,P=a.slice(1,g+1);break}else delete s[P[O]];f=f.filter(O=>P.indexOf(O)===-1),a=[0,...a.slice(g+1)],v=u[g].state,u=u.slice(g),l=l>g?l-g:0}function F(){s={0:J(Ae)},E=1,a=[0],f=[],v=u[l].state,l=0,u=[]}let h=0;switch(c.type){case or:{_=c.status,h=1/0;break}case sr:{S=c.status,S?(a=[...a,E],s[E]=new H({type:"@ngrx/devtools/pause"},+Date.now()),E++,h=a.length-1,u=u.concat(u[u.length-1]),l===a.length-2&&l++,h=1/0):F();break}case Jn:{s={0:J(Ae)},E=1,a=[0],f=[],v=e,l=0,u=[];break}case er:{F();break}case Qn:{s={0:J(Ae)},E=1,a=[0],f=[],l=0,u=[];break}case nr:{let{id:y}=c;f.indexOf(y)===-1?f=[y,...f]:f=f.filter(P=>P!==y),h=a.indexOf(y);break}case ti:{let{start:y,end:g,active:P}=c,O=[];for(let we=y;we<g;we++)O.push(we);P?f=Zn(f,O):f=[...f,...O],h=a.indexOf(y);break}case rr:{l=c.index,h=1/0;break}case ir:{let y=a.indexOf(c.actionId);y!==-1&&(l=y),h=1/0;break}case tr:{a=Zn(a,f),f=[],l=Math.min(l,a.length-1);break}case Q:{if(_)return d||n;if(S||d&&rt(d.computedStates[l],c,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let g=u[u.length-1];u=[...u.slice(0,-1),mr(o,c.action,g.state,g.error,t)],h=1/0;break}i.maxAge&&a.length===i.maxAge&&R(1),l===a.length-1&&l++;let y=E++;s[y]=c,a=[...a,y],h=a.length-1;break}case nt:{({monitorState:p,actionsById:s,nextActionId:E,stagedActionIds:a,skippedActionIds:f,committedState:v,currentStateIndex:l,computedStates:u,isLocked:_,isPaused:S}=c.nextLiftedState);break}case Le:{h=0,i.maxAge&&a.length>i.maxAge&&(u=Te(u,h,o,v,s,a,f,t,S),R(a.length-i.maxAge),h=1/0);break}case $e:{if(u.filter(g=>g.error).length>0)h=0,i.maxAge&&a.length>i.maxAge&&(u=Te(u,h,o,v,s,a,f,t,S),R(a.length-i.maxAge),h=1/0);else{if(!S&&!_){l===a.length-1&&l++;let g=E++;s[g]=new H(c,+Date.now()),a=[...a,g],h=a.length-1,u=Te(u,h,o,v,s,a,f,t,S)}u=u.map(g=>w(M({},g),{state:o(g.state,ci)})),l=a.length-1,i.maxAge&&a.length>i.maxAge&&R(a.length-i.maxAge),h=1/0}break}default:{h=1/0;break}}return u=Te(u,h,o,v,s,a,f,t,S),p=r(p,c),{monitorState:p,actionsById:s,nextActionId:E,stagedActionIds:a,skippedActionIds:f,committedState:v,currentStateIndex:l,computedStates:u,isLocked:_,isPaused:S}}}var Xn=(()=>{class e{constructor(t,r,i,o,d,c,p,s){let E=di(p,s.monitor),a=ui(p,E,c,s.monitor,s),f=j(j(r.asObservable().pipe(yt(1)),o.actions$).pipe(T(J)),t,o.liftedActions$).pipe(ct(st)),v=i.pipe(T(a)),l=fr(s.connectInZone),u=new ot(1);this.liftedStateSubscription=f.pipe(Et(v),Yn(l),ht(({state:R},[F,h])=>{let y=h(R,F);return F.type!==Q&&lr(s)&&(y=si(y,s.predicate,s.actionsSafelist,s.actionsBlocklist)),o.notify(F,y),{state:y,action:F}},{state:E,action:null})).subscribe(({state:R,action:F})=>{if(u.next(R),F.type===Q){let h=F.action;d.next(h)}}),this.extensionStartSubscription=o.start$.pipe(Yn(l)).subscribe(()=>{this.refresh()});let _=u.asObservable(),S=_.pipe(T(cr));Object.defineProperty(S,"state",{value:yn(S,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=_,this.state=S}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new H(t,+Date.now()))}refresh(){this.dispatch(new He)}reset(){this.dispatch(new Ge(+Date.now()))}rollback(){this.dispatch(new qe(+Date.now()))}commit(){this.dispatch(new We(+Date.now()))}sweep(){this.dispatch(new Ze)}toggleAction(t){this.dispatch(new Ke(t))}jumpToAction(t){this.dispatch(new Ye(t))}jumpToState(t){this.dispatch(new Xe(t))}importState(t){this.dispatch(new Je(t))}lockChanges(t){this.dispatch(new Qe(t))}pauseRecording(t){this.dispatch(new et(t))}static{this.\u0275fac=function(r){return new(r||e)(m(Ce),m(pe),m(On),m(pr),m(me),m(ne),m(bn),m(be))}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac})}}return e})();function Yn({ngZone:e,connectInZone:n}){return t=>n?new G(r=>t.subscribe({next:i=>e.run(()=>r.next(i)),error:i=>e.run(()=>r.error(i)),complete:()=>e.run(()=>r.complete())})):t}var li=new I("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function fi(e,n){return!!e||n.monitor!==ar}function pi(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function mi(e){return e.state}function hr(e={}){return z([pr,Ce,Xn,{provide:Wn,useValue:e},{provide:li,deps:[tt,be],useFactory:fi},{provide:tt,useFactory:pi},{provide:be,deps:[Wn],useFactory:ri},{provide:_n,deps:[Xn],useFactory:mi},{provide:wn,useExisting:Ce}])}var hi={tasks:[],error:null},gr=Fn(hi,Y(ge,(e,{tasks:n})=>w(M({},e),{tasks:n,error:null})),Y(ye,(e,{error:n})=>w(M({},e),{error:n})),Y(Ee,(e,{task:n})=>w(M({},e),{tasks:e.tasks.map(t=>t._id===n._id?n:t),error:null})),Y(ve,(e,{error:n})=>w(M({},e),{error:n})));var xe=class e{constructor(n,t,r){this.actions$=n;this.taskService=t;this.toastr=r;this.loadTasks$=ze(()=>this.actions$.pipe(Ue(kn),B(i=>{let o=i.order==="asc"||i.order==="desc"?i.order:"asc",d=i.sortBy||"createdAt",c=i.filters||{};return this.taskService.getTasks(d,o,c).pipe(T(p=>ge({tasks:p.tasks})),L(p=>{let s=p?.error?.message||"No se encontraron tareas o hubo un error inesperado";return this.toastr.error(s,"Error"),$(ye({error:s}))}))}))),this.updateTask$=ze(()=>this.actions$.pipe(Ue(Dn),B(({task:i})=>this.taskService.updateTask(i._id,i).pipe(T(o=>(this.toastr.success("Tarea actualizada"),Ee({task:o}))),L(o=>(this.toastr.error(o.message,"Error al actualizar tarea"),$(ve({error:o.message}))))))))}loadTasks$;updateTask$;static \u0275fac=function(t){return new(t||e)(m(Hn),m(In),m(Mn))};static \u0275prov=A({token:e,factory:e.\u0275fac})};var yr={providers:[xt(),Lt(Bn),Nt(Dt()),Ft(kt()),Nn(),Tn(),$n(),Rn({tasks:gr}),qn([xe]),hr({maxAge:25,logOnly:!Ot()})]};var Oe=class e{title="TODO-APP";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=oe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&ae(0,"router-outlet")},dependencies:[jt,Sn],encapsulation:2,changeDetection:0})};Rt(Oe,yr).catch(e=>console.error(e));
